I"bÀ<h2 id="ä¸€å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹æ€§">ä¸€ã€å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹æ€§</h2>
<ul>
  <li>çº¯å‡½æ•°</li>
  <li>æŸ¯é‡ŒåŒ–</li>
  <li>å‡½æ•°ç»„åˆ</li>
</ul>

<h2 id="äºŒä¸ºä»€ä¹ˆå­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹">äºŒã€ä¸ºä»€ä¹ˆå­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹</h2>
<ul>
  <li>éšç€ React çš„æµè¡Œå—åˆ°è¶Šæ¥è¶Šå¤šçš„å…³æ³¨</li>
  <li>Vue3 å¼€å§‹æ‹¥æŠ±å‡½æ•°å¼ç¼–ç¨‹</li>
  <li>å‡½æ•°å¼ç¼–ç¨‹å¯ä»¥æŠ›å¼ƒ this</li>
  <li>æ‰“åŒ…è¿‡ç¨‹ä¸­å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨ tree shaking è¿‡æ»¤æ— ç”¨ä»£ç </li>
  <li>æ–¹ä¾¿æµ‹è¯•ï¼Œæ–¹ä¾¿å¹¶è¡Œå¤„ç†</li>
  <li>å‡½æ•°å¼ç¼–ç¨‹åº“ï¼šlodashã€underscoreã€ramda</li>
</ul>

<h2 id="ä¸‰å‡½æ•°å¼ç¼–ç¨‹æ¦‚å¿µ">ä¸‰ã€å‡½æ•°å¼ç¼–ç¨‹æ¦‚å¿µ</h2>
<ul>
  <li>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆFunctional Programming FPï¼‰ï¼Œå…¶ä»–èŒƒå¼æœ‰é¢å‘è¿‡ç¨‹ç¼–ç¨‹ã€é¢å‘å¯¹è±¡ç¼–ç¨‹</li>
  <li>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šæŠŠç°å®ä¸–ç•Œä¸­çš„äº‹ç‰©æŠ½è±¡æˆç¨‹åºä¸–ç•Œä¸­çš„ç±»å’Œå¯¹è±¡ï¼Œé€šè¿‡å°è£…ã€ç»§æ‰¿ã€å¤šè‚½æ¥æ¼”ç¤ºäº‹ç‰©ä¹‹é—´çš„è”ç³»</li>
  <li>å‡½æ•°å¼ç¼–ç¨‹ï¼šæŠŠç°å®ä¸–ç•Œçš„äº‹ç‰©å’Œäº‹ç‰©ä¹‹é—´çš„è”ç³»æŠ½è±¡åˆ°ç¨‹åºä¸–ç•Œï¼ˆå¯¹è¿ç®—è¿‡ç¨‹è¿›è¡ŒæŠ½è±¡ï¼‰</li>
  <li>å‡½æ•°å¼ç¼–ç¨‹çš„å‡½æ•°ï¼Œæ˜¯å±äºæ•°å­¦ä¸­çš„å‡½æ•°ï¼Œå³æ˜ å°„å…³ç³»</li>
  <li>ç›¸åŒçš„è¾“å…¥ä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡º</li>
  <li>ç”¨æ¥æè¿°æ•°æ®ä¹‹é—´çš„æ˜ å°„</li>
</ul>

<h2 id="å››å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘æ˜¯é«˜é˜¶å‡½æ•°å‡½æ•°æŸ¯é‡ŒåŒ–çš„åŸºç¡€">å››ã€å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼ˆæ˜¯é«˜é˜¶å‡½æ•°ã€å‡½æ•°æŸ¯é‡ŒåŒ–çš„åŸºç¡€ï¼‰</h2>
<ul>
  <li>å‡½æ•°å¯ä»¥å­˜å‚¨åœ¨å˜é‡ä¸­</li>
  <li>å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°</li>
  <li>å‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼</li>
</ul>

<h2 id="äº”é«˜é˜¶å‡½æ•°higher-order-function">äº”ã€é«˜é˜¶å‡½æ•°ï¼ˆHigher-order functionï¼‰</h2>
<ul>
  <li>é«˜é˜¶å‡½æ•°å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°</li>
  <li>forEach æ¨¡æ‹Ÿ</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">forEach</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">fn</span><span class="p">){</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
        <span class="nx">fn</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>filter æ¨¡æ‹Ÿ</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">filter</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">fn</span><span class="p">){</span>
    <span class="kd">let</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">fn</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">])){</span>
            <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">results</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>é«˜é˜¶å‡½æ•°å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›ç»“æœ</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">makeFn</span><span class="p">(){</span>
    <span class="kd">let</span> <span class="nx">msg</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">jeman</span><span class="dl">'</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<ul>
  <li>åªæ‰§è¡Œä¸€æ¬¡çš„å‡½æ•°ï¼ˆonceï¼‰</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">once</span><span class="p">(</span><span class="nx">fn</span><span class="p">){</span>
    <span class="kd">let</span> <span class="nx">done</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">done</span><span class="p">){</span>
            <span class="nx">done</span> <span class="o">=</span> <span class="kc">true</span>
            <span class="k">return</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">pay</span> <span class="o">=</span> <span class="nx">once</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">money</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`æ”¯ä»˜äº† </span><span class="p">${</span><span class="nx">money</span><span class="p">}</span><span class="s2"> å…ƒã€‚`</span><span class="p">)</span>
<span class="p">})</span>

<span class="nx">pay</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nx">pay</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="äº”é«˜é˜¶å‡½æ•°çš„æ„ä¹‰">äº”ã€é«˜é˜¶å‡½æ•°çš„æ„ä¹‰</h2>
<ul>
  <li>é«˜é˜¶å‡½æ•°å¸®æˆ‘ä»¬å±è”½ç»†èŠ‚ï¼Œåªéœ€è¦å…³æ³¨æˆ‘ä»¬çš„ç›®æ ‡</li>
  <li>é«˜é˜¶å‡½æ•°ç”¨æ¥æŠ½è±¡é€šç”¨çš„é—®é¢˜</li>
</ul>

<h2 id="å…­å¸¸ç”¨çš„é«˜é˜¶å‡½æ•°">å…­ã€å¸¸ç”¨çš„é«˜é˜¶å‡½æ•°</h2>
<ul>
  <li>forEach</li>
  <li>map</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">map</span> <span class="o">=</span> <span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
        <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">fn</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]))</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">results</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>filter</li>
  <li>every</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">every</span> <span class="o">=</span> <span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">flag</span> <span class="o">=</span> <span class="kc">true</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
        <span class="nx">flag</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">flag</span><span class="p">)</span> <span class="k">break</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">flag</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>some</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">some</span> <span class="o">=</span> <span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">flag</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
        <span class="nx">flag</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">flag</span><span class="p">)</span> <span class="k">break</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">flag</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>find/findIndex</li>
  <li>reduce</li>
  <li>sort</li>
  <li>â€¦</li>
</ul>

<h2 id="ä¸ƒé—­åŒ…æ¦‚å¿µ">ä¸ƒã€é—­åŒ…æ¦‚å¿µ</h2>
<ul>
  <li>å‡½æ•°å’Œå…¶å‘¨å›´çš„çŠ¶æ€ï¼ˆè¯æ³•ç¯å¢ƒï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·å½¢æˆé—­åŒ…</li>
  <li>å¯ä»¥åœ¨å¦ä¸€ä¸ªä½œç”¨åŸŸä¸­è°ƒç”¨ä¸€ä¸ªå‡½æ•°çš„å†…éƒ¨å‡½æ•°å¹¶è®¿é—®åˆ°è¯¥å‡½æ•°ä½œç”¨åŸŸä¸­çš„æˆå‘˜</li>
</ul>

<h2 id="å…«çº¯å‡½æ•°æ¦‚å¿µ">å…«ã€çº¯å‡½æ•°æ¦‚å¿µ</h2>
<ul>
  <li>ç›¸åŒçš„é¢è¾“å…¥æ°¸è¿œä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å¯è§‚å¯Ÿçš„å‰¯ä½œç”¨</li>
  <li>ä¸ä¼šä¿ç•™è®¡ç®—ä¸­é—´çš„ç»“æœï¼Œæ‰€ä»¥å˜é‡æ˜¯æ— çŠ¶æ€çš„</li>
  <li>å¯ä»¥æŠŠä¸€ä¸ªå‡½æ•°æ‰§è¡Œçš„ç»“æœäº¤ç»™å¦ä¸€ä¸ªå‡½æ•°å»å¤„ç†</li>
</ul>

<h2 id="ä¹çº¯å‡½æ•°çš„å¥½å¤„">ä¹ã€çº¯å‡½æ•°çš„å¥½å¤„</h2>
<ul>
  <li>å¯ç¼“å­˜ï¼Œå› ä¸ºç›¸åŒè¾“å…¥æœ‰ç›¸åŒè¾“å‡ºï¼Œæ‰€ä»¥å¯ä»¥æŠŠçº¯å‡½æ•°çš„ç»“æœç¼“å­˜èµ·æ¥</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">_</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">lodash</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">function</span> <span class="nx">getArea</span><span class="p">(</span><span class="nx">r</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="nx">r</span> <span class="o">*</span> <span class="nx">r</span> 
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">getAreaWithMemoize</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">memoize</span><span class="p">(</span><span class="nx">getArea</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getAreaWithMemoize</span><span class="p">(</span><span class="mi">4</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getAreaWithMemoize</span><span class="p">(</span><span class="mi">4</span><span class="p">));</span>

<span class="c1">// æ¨¡æ‹Ÿmemoize</span>
<span class="kd">function</span> <span class="nx">memoize</span><span class="p">(</span><span class="nx">fn</span><span class="p">){</span>
    <span class="kd">let</span> <span class="nx">cache</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="kd">let</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)</span>
        <span class="nx">cache</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">cache</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">||</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">)</span>
        <span class="k">return</span> <span class="nx">cache</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>å¯æµ‹è¯•</li>
  <li>å¹¶è¡Œå¤„ç†
    <ul>
      <li>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ“ä½œå…±äº«å†…å­˜çš„æ•°æ®å¯èƒ½ä¼šå‡ºç°æ„å¤–æƒ…å†µ</li>
      <li>çº¯å‡½æ•°ä¸éœ€è¦è®¿é—®å…±äº«å†…å­˜ä¸­çš„æ•°æ®ï¼Œæ‰€ä»¥åœ¨å¹¶è¡Œç¯å¢ƒä¸‹å¯ä»¥ä»»æ„è¿è¡Œçº¯å‡½æ•°</li>
    </ul>
  </li>
</ul>

<h2 id="åå‰¯ä½œç”¨">åã€å‰¯ä½œç”¨</h2>
<p>å‰¯ä½œç”¨æ¥æºï¼š</p>
<ul>
  <li>é…ç½®æ–‡ä»¶</li>
  <li>æ•°æ®åº“</li>
  <li>è·å–ç”¨æˆ·çš„è¾“å…¥</li>
</ul>

<p>æ‰€æœ‰å¤–éƒ¨äº¤äº’éƒ½å¯èƒ½äº§ç”Ÿå‰¯ä½œç”¨ï¼Œå‰¯ä½œç”¨ä¼šä½¿å¾—æ–¹æ³•é€šç”¨æ€§ä¸‹é™ä¸é€‚åˆæ‰©å±•å’Œå¯é‡ç”¨æ€§ï¼ŒåŒæ—¶ä¼šå¸¦æ¥å®‰å…¨éšæ‚£ã€‚</p>

<h2 id="åæŸ¯é‡ŒåŒ–">åã€æŸ¯é‡ŒåŒ–</h2>
<ul>
  <li>å½“ä¸€ä¸ªå‡½æ•°æœ‰å¤šä¸ªå‚æ•°çš„æ—¶å€™ï¼Œå…ˆä¼ é€’ä¸€éƒ¨åˆ†å‚æ•°è°ƒç”¨å®ƒï¼ˆè¿™éƒ¨åˆ†å‚æ•°ä»¥åæ°¸è¿œä¸å˜ï¼‰</li>
  <li>ç„¶åè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°æ¥æ”¶å‰©ä½™çš„å‚æ•°ï¼Œè¿”å›ç»“æœ</li>
</ul>

<h2 id="åä¸€lodashä¸­çš„æŸ¯é‡ŒåŒ–">åä¸€ã€lodashä¸­çš„æŸ¯é‡ŒåŒ–</h2>
<ul>
  <li>_.curry(func)</li>
  <li>åŠŸèƒ½ï¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ªfuncçš„å‚æ•°ï¼Œå¦‚æœfuncæ‰€éœ€è¦çš„å‚æ•°éƒ½è¢«æä¾›åˆ™æ‰§è¡Œfuncå¹¶è¿”å›æ‰§è¡Œçš„ç»“æœã€‚å¦åˆ™ç»§ç»­è¿”å›è¯¥å‡½æ•°å¹¶ç­‰å¾…æ¥æ”¶å‰©ä½™çš„å‚æ•°ã€‚</li>
  <li>å‚æ•°ï¼šéœ€è¦æŸ¯é‡ŒåŒ–çš„å‡½æ•°</li>
  <li>è¿”å›å€¼ï¼šæŸ¯é‡ŒåŒ–åçš„å‡½æ•°</li>
</ul>

<h2 id="åäºŒæŸ¯é‡ŒåŒ–æ¡ˆä¾‹">åäºŒã€æŸ¯é‡ŒåŒ–æ¡ˆä¾‹</h2>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">_</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">lodash</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">match</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">curry</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reg</span><span class="p">,</span> <span class="nx">str</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">reg</span><span class="p">)</span>
<span class="p">})</span>

<span class="kd">const</span> <span class="nx">haveSpace</span> <span class="o">=</span> <span class="nx">match</span><span class="p">(</span><span class="sr">/</span><span class="se">\s</span><span class="sr">+/g</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">haveSpace</span><span class="p">(</span><span class="dl">'</span><span class="s1">hello world))
</span></code></pre></div></div>

<h2 id="åä¸‰æŸ¯é‡ŒåŒ–åŸç†æ¨¡æ‹Ÿ">åä¸‰ã€æŸ¯é‡ŒåŒ–åŸç†æ¨¡æ‹Ÿ</h2>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">_</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">lodash</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">function</span> <span class="nx">getSum</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="o">+</span> <span class="nx">c</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">curried</span> <span class="o">=</span> <span class="nx">curry</span><span class="p">(</span><span class="nx">getSum</span><span class="p">)</span>

<span class="c1">// ä¼ é€’çš„å‚æ•°ä¸ªæ•°ä¸åŸå‡½æ•°æ‰€éœ€è¦çš„å‚æ•°ç›¸åŒï¼Œç›´æ¥æ‰§è¡Œè®¡ç®—å‡½æ•°è¿”å›å€¼</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">curried</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">));</span>

<span class="c1">// ä¼ é€’çš„å‚æ•°ä¸ªæ•°å°‘äºåŸå‡½æ•°æ‰€éœ€è¦çš„å‚æ•°ï¼Œä¼šè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå¯ç»§ç»­è°ƒç”¨ä¼ å…¥æ¬ ç¼ºå‚æ•°ä¸ªæ•°ï¼Œå‚æ•°ä¸ªæ•°è¾¾åˆ°æ—¶ä¼šè®¡ç®—å‡½æ•°è¿”å›ç»“æœ</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">curried</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">));</span> 


<span class="kd">function</span> <span class="nx">curry</span><span class="p">(</span><span class="nx">func</span><span class="p">){</span>
    <span class="k">return</span> <span class="kd">function</span> <span class="nx">curriedFn</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="nx">func</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
            <span class="k">return</span> <span class="kd">function</span><span class="p">(){</span>
                <span class="k">return</span> <span class="nx">curriedFn</span><span class="p">(...</span><span class="nx">args</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)))</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">func</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// æ€»ç»“ï¼š</span>
<span class="c1">// 1ã€é€šè¿‡æŸ¯é‡ŒåŒ–å¯ä»¥ç»™ä¸€ä¸ªå‡½æ•°ä¼ é€’è¾ƒå°‘çš„å‚æ•°ä»è€Œå¾—åˆ°ä¸€ä¸ªå·²ç»è®°å½•äº†æŸäº›å›ºå®šå‚æ•°çš„æ–°å‡½æ•°</span>
<span class="c1">// 2ã€æŸ¯é‡ŒåŒ–ä½¿ç”¨é—­åŒ…å¯¹å‡½æ•°å‚æ•°è¿›è¡Œç¼“å­˜</span>
<span class="c1">// 3ã€è®©å‡½æ•°å˜å¾—æ›´çµæ´»ï¼Œå‡½æ•°ç²’åº¦æ›´å°</span>
<span class="c1">// 4ã€å¯ä»¥ä½¿ä¸€å…ƒå‡½æ•°è½¬æ¢ä¸ºå¤šå…ƒå‡½æ•°ï¼Œå¯ä»¥ç»„åˆä½¿ç”¨å‡½æ•°äº§ç”Ÿå¼ºå¤§åŠŸèƒ½</span>
</code></pre></div></div>

<h2 id="åå››å‡½æ•°ç»„åˆæ¦‚å¿µ">åå››ã€å‡½æ•°ç»„åˆæ¦‚å¿µ</h2>
<ul>
  <li>çº¯å‡½æ•°å’ŒæŸ¯é‡ŒåŒ–å¾ˆå®¹æ˜“å†™å‡ºæ´‹è‘±ä»£ç </li>
  <li>å‡½æ•°ç»„åˆå¯ä»¥æŠŠç»†ç²’åº¦çš„å‡½æ•°é‡æ–°ç»„åˆç”Ÿæˆä¸€ä¸ªæ–°çš„å‡½æ•°</li>
  <li>æ¦‚å¿µï¼šå¦‚æœä¸€ä¸ªå‡½æ•°è¦ç»è¿‡å¤šä¸ªå‡½æ•°å¤„ç†æ‰èƒ½å¾—åˆ°æœ€ç»ˆå€¼ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥æŠŠä¸­é—´è¿‡ç¨‹çš„å‡½æ•°åˆå¹¶æˆä¸€ä¸ªå‡½æ•°</li>
  <li>å‡½æ•°ç»„åˆé»˜è®¤æ˜¯ä»å³åˆ°å·¦æ‰§è¡Œ</li>
</ul>

<h2 id="åäº”lodashä¸­çš„å‡½æ•°ç»„åˆ">åäº”ã€lodashä¸­çš„å‡½æ•°ç»„åˆ</h2>
<ul>
  <li>lodash ä¸­çš„ç»„åˆå‡½æ•° flow() æˆ–è€… flowRight()</li>
  <li>flow() æ˜¯ä»å·¦åˆ°å³</li>
  <li>flowRight() æ˜¯ä»å³åˆ°å·¦ï¼Œä½¿ç”¨æ¯”è¾ƒå¤š</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">_</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">lodash</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">reverse</span> <span class="o">=</span> <span class="nx">arr</span> <span class="o">=&gt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">reverse</span><span class="p">()</span>
<span class="kd">const</span> <span class="nx">first</span> <span class="o">=</span> <span class="nx">arr</span> <span class="o">=&gt;</span> <span class="nx">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="kd">const</span> <span class="nx">toUpper</span> <span class="o">=</span> <span class="nx">str</span> <span class="o">=&gt;</span> <span class="nx">str</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span>

<span class="kd">const</span> <span class="nx">fn</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">flowRight</span><span class="p">(</span><span class="nx">toUpper</span><span class="p">,</span> <span class="nx">first</span><span class="p">,</span> <span class="nx">reverse</span><span class="p">)</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">fn</span><span class="p">([</span><span class="dl">'</span><span class="s1">one</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">two</span><span class="dl">'</span><span class="p">]));</span>
</code></pre></div></div>

<h2 id="åå…­ç»„åˆå‡½æ•°åŸç†">åå…­ã€ç»„åˆå‡½æ•°åŸç†</h2>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// åŸç†åˆ†æï¼š</span>
<span class="c1">// 1ã€ä¼ å…¥çš„å‚æ•°éƒ½æ˜¯çº¯å‡½æ•°ï¼Œå¹¶ä¸”å‚æ•°ä¸ªæ•°è‡³å°‘2ä¸ªï¼Œé•¿åº¦ä¸é™</span>
<span class="c1">// 2ã€åˆå§‹å€¼ä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°æ—¶ä¼ è¿›æ¥çš„å‚æ•°</span>

<span class="kd">function</span> <span class="nx">compose</span><span class="p">(...</span><span class="nx">args</span><span class="p">){</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
        <span class="k">return</span> <span class="nx">args</span><span class="p">.</span><span class="nx">reverse</span><span class="p">().</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">fn</span><span class="p">){</span>
            <span class="k">return</span> <span class="nx">fn</span><span class="p">(</span><span class="nx">acc</span><span class="p">)</span>
        <span class="p">},</span> <span class="nx">value</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// ES6 åŒ–ç®€</span>
<span class="c1">// const compose = (...args) =&gt; value =&gt; args.reverse().reduce((acc, fn) =&gt; fn(acc), value)</span>
</code></pre></div></div>

<h2 id="åä¸ƒå‡½æ•°ç»„åˆ-ç»“åˆå¾‹">åä¸ƒã€å‡½æ•°ç»„åˆ-ç»“åˆå¾‹</h2>
<ul>
  <li>ç±»ä¼¼æ•°å­¦ä¸­çš„åŠ æ³•ç»“åˆå¾‹</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">_</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">lodash</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">reverse</span> <span class="o">=</span> <span class="nx">arr</span> <span class="o">=&gt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">reverse</span><span class="p">()</span>
<span class="kd">const</span> <span class="nx">first</span> <span class="o">=</span> <span class="nx">arr</span> <span class="o">=&gt;</span> <span class="nx">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="kd">const</span> <span class="nx">toUpper</span> <span class="o">=</span> <span class="nx">str</span> <span class="o">=&gt;</span> <span class="nx">str</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span>

<span class="kd">const</span> <span class="nx">fn</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">flowRight</span><span class="p">(</span><span class="nx">toUpper</span><span class="p">,</span> <span class="nx">_</span><span class="p">.</span><span class="nx">flowRight</span><span class="p">(</span><span class="nx">first</span><span class="p">,</span> <span class="nx">reverse</span><span class="p">))</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">fn</span><span class="p">([</span><span class="dl">'</span><span class="s1">one</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">two</span><span class="dl">'</span><span class="p">]));</span>
</code></pre></div></div>

<h2 id="åå…«ç»„åˆå‡½æ•°çš„è°ƒè¯•">åå…«ã€ç»„åˆå‡½æ•°çš„è°ƒè¯•</h2>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">_</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">lodash</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">reverse</span> <span class="o">=</span> <span class="nx">arr</span> <span class="o">=&gt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">reverse</span><span class="p">()</span>
<span class="kd">const</span> <span class="nx">first</span> <span class="o">=</span> <span class="nx">arr</span> <span class="o">=&gt;</span> <span class="nx">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="kd">const</span> <span class="nx">toUpper</span> <span class="o">=</span> <span class="nx">str</span> <span class="o">=&gt;</span> <span class="nx">str</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span>

<span class="kd">const</span> <span class="nx">log</span> <span class="o">=</span> <span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="nx">value</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">trace</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">curry</span><span class="p">(</span><span class="nx">log</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">fn</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">flowRight</span><span class="p">(</span><span class="nx">toUpper</span><span class="p">,</span> <span class="nx">trace</span><span class="p">(</span><span class="dl">'</span><span class="s1">first ä¹‹å</span><span class="dl">'</span><span class="p">),</span> <span class="nx">first</span><span class="p">,</span> <span class="nx">trace</span><span class="p">(</span><span class="dl">'</span><span class="s1">reverse ä¹‹å</span><span class="dl">'</span><span class="p">),</span> <span class="nx">reverse</span><span class="p">)</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">fn</span><span class="p">([</span><span class="dl">'</span><span class="s1">one</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">two</span><span class="dl">'</span><span class="p">]));</span>
</code></pre></div></div>

<h2 id="åä¹lodash-ä¸­çš„-fp-æ¨¡å—">åä¹ã€lodash ä¸­çš„ fp æ¨¡å—</h2>
<ul>
  <li>å½“æˆ‘ä»¬åœ¨ä½¿ç”¨å‡½æ•°ç»„åˆè§£å†³é—®é¢˜çš„æ—¶å€™ï¼Œä¼šä½¿ç”¨lodashä¸­çš„æ–¹æ³•ï¼Œå¦‚æœè¿™äº›æ–¹æ³•æœ‰å¾ˆå¤šä¸ªå‚æ•°ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡ŒæŸ¯é‡ŒåŒ–å¤„ç†ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥ï¼š</li>
  <li>lodash ä¸­çš„ fp æä¾›äº†ä½¿ç”¨çš„å¯¹å‡½æ•°å¼ç¼–ç¨‹å‹å¥½çš„æ–¹æ³•</li>
  <li>æä¾›äº†ä¸å¯å˜ auto-curried iteratee-first data-last çš„æ–¹æ³•</li>
</ul>

<p>å¼•ç”¨ lodashï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">_</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">lodash</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">split</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">curry</span><span class="p">((</span><span class="nx">sep</span><span class="p">,</span> <span class="nx">str</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">_</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">sep</span><span class="p">))</span>
<span class="kd">const</span> <span class="nx">join</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">curry</span><span class="p">((</span><span class="nx">sep</span><span class="p">,</span> <span class="nx">array</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">_</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">sep</span><span class="p">))</span>
<span class="kd">const</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">curry</span><span class="p">((</span><span class="nx">fn</span><span class="p">,</span> <span class="nx">array</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">_</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">fn</span><span class="p">))</span>

<span class="kd">const</span> <span class="nx">fn</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">flowRight</span><span class="p">(</span><span class="nx">join</span><span class="p">(</span><span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">),</span> <span class="nx">map</span><span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">toLower</span><span class="p">),</span> <span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">))</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">(</span><span class="dl">'</span><span class="s1">HI JEAMN</span><span class="dl">'</span><span class="p">))</span>
</code></pre></div></div>

<p>å¼•ç”¨ lodash ä¸­çš„ fpï¼Œåˆ™ä¸éœ€è¦æ‰‹åŠ¨æŸ¯é‡ŒåŒ–ï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">fp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">lodash/fp</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">fn</span> <span class="o">=</span> <span class="nx">fp</span><span class="p">.</span><span class="nx">flowRight</span><span class="p">(</span><span class="nx">fp</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">),</span> <span class="nx">fp</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">fp</span><span class="p">.</span><span class="nx">toLower</span><span class="p">),</span> <span class="nx">fp</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">))</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">fn</span><span class="p">(</span><span class="dl">'</span><span class="s1">HI JEAMN</span><span class="dl">'</span><span class="p">))</span>
</code></pre></div></div>

<h2 id="äºŒåpoint-free">äºŒåã€Point Free</h2>
<ul>
  <li>ä¸éœ€è¦æŒ‡æ˜å¤„ç†çš„æ•°æ®</li>
  <li>åªéœ€è¦åˆæˆè¿ç®—è¿‡ç¨‹ÃŸs</li>
  <li>éœ€è¦å®šä¹‰ä¸€äº›è¾…åŠ©çš„åŸºæœ¬è¿ç®—å‡½æ•°</li>
</ul>

<h2 id="äºŒåä¸€functor-å‡½å­">äºŒåä¸€ã€Functor å‡½å­</h2>
<ul>
  <li>
    <p>ä¸ºä»€ä¹ˆï¼Ÿ
åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œå¦‚ä½•æŠŠå‰¯ä½œç”¨æ§åˆ¶åœ¨å¯æ§èŒƒå›´å†…ã€å¼‚å¸¸å¤„ç†ã€å¼‚æ­¥æ“ä½œç­‰ã€‚</p>
  </li>
  <li>
    <p>æ¦‚å¿µï¼Ÿ
å®¹å™¨ï¼šåŒ…å«å€¼å’Œå€¼çš„å˜å½¢å…³ç³»ï¼ˆè¿™ä¸ªå˜å½¢å…³ç³»å°±æ˜¯å‡½æ•°ï¼‰
å‡½å­ï¼šæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å®¹å™¨ï¼Œé€šè¿‡ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡æ¥å®ç°ã€‚è¯¥å¯¹è±¡å…·æœ‰mapæ–¹æ³•ï¼Œmapæ–¹æ³•å¯ä»¥è¿è¡Œä¸€ä¸ªå‡½æ•°å¯¹å€¼è¿›è¡Œå¤„ç†ï¼ˆå˜å½¢å…³ç³»ï¼‰</p>
  </li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Container</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">of</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Container</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_value</span> <span class="o">=</span> <span class="nx">value</span>
    <span class="p">}</span>

    <span class="nx">map</span><span class="p">(</span><span class="nx">fn</span><span class="p">){</span>
        <span class="k">return</span> <span class="nx">Container</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="nx">fn</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_value</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">Container</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="mi">5</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">x</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span>
</code></pre></div></div>

<p>æ€»ç»“ï¼š</p>
<ul>
  <li>å‡½æ•°å¼ç¼–ç¨‹çš„è¿ç®—ä¸ç›´æ¥æ“ä½œå€¼ï¼Œè€Œæ˜¯ç”±å‡½å­å®Œæˆ</li>
  <li>å‡½å­å°±æ˜¯ä¸€ä¸ªå®ç°äº† map å¥‘çº¦çš„å¯¹è±¡</li>
  <li>å¯ä»¥æŠŠå‡½å­æƒ³è±¡æˆä¸€ä¸ªç›’å­ï¼Œç›’å­é‡Œå°è£…äº†ä¸€ä¸ªå€¼</li>
  <li>æƒ³è¦å¤„ç†ç›’å­ä¸­çš„å€¼ï¼Œæˆ‘ä»¬éœ€è¦ç»™ç›’å­çš„ map æ–¹æ³•ä¼ é€’ä¸€ä¸ªå¤„ç†å€¼å¾—å‡½æ•°ï¼ˆçº¯å‡½æ•°ï¼‰ï¼Œç”±è¿™ä¸ªå‡½æ•°æ¥å¯¹å€¼è¿›è¡Œå¤„ç†</li>
  <li>æœ€ç»ˆ map æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ–°å€¼å¾—ç›’å­ï¼ˆæ–°çš„å‡½å­ï¼‰</li>
</ul>

<h2 id="äºŒåäºŒmaybe-å‡½å­">äºŒåäºŒã€MayBe å‡½å­</h2>
<ul>
  <li>å¤„ç†å‡½å­ä¸­ map å‡½æ•°è¿”å›ç©ºå€¼çš„é—®é¢˜
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">MayBe</span> <span class="p">{</span>
  <span class="kd">static</span> <span class="k">of</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nx">MayBe</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">_value</span> <span class="o">=</span> <span class="nx">value</span>
  <span class="p">}</span>

  <span class="nx">map</span><span class="p">(</span><span class="nx">fn</span><span class="p">){</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">isNothing</span><span class="p">()</span> <span class="p">?</span> <span class="nx">MayBe</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span> <span class="p">:</span> <span class="nx">MayBe</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="nx">fn</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_value</span><span class="p">))</span>
  <span class="p">}</span>

  <span class="nx">isNothing</span><span class="p">(){</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_value</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">_value</span> <span class="o">===</span> <span class="kc">undefined</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">MayBe</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="kc">null</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">x</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="äºŒåä¸‰either-å‡½å­">äºŒåä¸‰ã€Either å‡½å­</h2>
<ul>
  <li>å¤„ç†å¤šæ¬¡è°ƒç”¨mapå‡½æ•°ä¸èƒ½å®šä½æ˜¯å“ªæ¬¡è¿”å›nullçš„é—®é¢˜</li>
  <li>ç±»ä¼¼äº ifâ€¦elseâ€¦</li>
  <li>å¼‚å¸¸ä¼šè®©å‡½æ•°å˜å¾—ä¸çº¯ï¼ŒEither å‡½å­å¯ä»¥ç”¨æ¥åšå¼‚å¸¸å¤„ç†</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Left</span><span class="p">{</span>
    <span class="kd">static</span> <span class="k">of</span> <span class="p">(</span><span class="nx">value</span><span class="p">){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Left</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">constructor</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_value</span> <span class="o">=</span> <span class="nx">value</span>
    <span class="p">}</span>

    <span class="nx">map</span><span class="p">(</span><span class="nx">fn</span><span class="p">){</span>
        <span class="k">return</span> <span class="k">this</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">Right</span><span class="p">{</span>
    <span class="kd">static</span> <span class="k">of</span> <span class="p">(</span><span class="nx">value</span><span class="p">){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Right</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">constructor</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_value</span> <span class="o">=</span> <span class="nx">value</span>
    <span class="p">}</span>

    <span class="nx">map</span><span class="p">(</span><span class="nx">fn</span><span class="p">){</span>
        <span class="k">return</span> <span class="nx">Right</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="nx">fn</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_value</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">parseJSON</span><span class="p">(</span><span class="nx">str</span><span class="p">){</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Right</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">str</span><span class="p">))</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Left</span><span class="p">.</span><span class="k">of</span><span class="p">({</span><span class="na">error</span><span class="p">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">parseJSON</span><span class="p">(</span><span class="dl">'</span><span class="s1">{name: jeamn}</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span> <span class="c1">// Left { _value: { error: 'Unexpected token n in JSON at position 1' } }</span>

<span class="kd">let</span> <span class="nx">r2</span> <span class="o">=</span> <span class="nx">parseJSON</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"name": "jeamn"}</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r2</span><span class="p">)</span> <span class="c1">// Right { _value: { name: 'jeamn' } }</span>
</code></pre></div></div>

<h2 id="äºŒåå››io-å‡½å­">äºŒåå››ã€IO å‡½å­</h2>
<ul>
  <li>IO å‡½å­ä¸­çš„ _value æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™é‡Œæ˜¯æŠŠå‡½æ•°ä½œä¸ºå€¼æ¥å¤„ç†</li>
  <li>IO å‡½å­å¯ä»¥æŠŠä¸çº¯çš„åŠ¨ä½œå­˜å‚¨åˆ° _value ä¸­ï¼Œå»¶è¿Ÿæ‰§è¡Œè¿™ä¸ªä¸çº¯çš„æ“ä½œï¼ˆæƒ°æ€§æ‰§è¡Œï¼‰ï¼ŒåŒ…è£…å½“å‰çš„çº¯æ“ä½œ</li>
  <li>æŠŠä¸çº¯çš„æ“ä½œäº¤ç»™è°ƒç”¨è€…æ¥å¤„ç†</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">fp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">lodash/fp</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">class</span> <span class="nx">IO</span><span class="p">{</span>
    <span class="kd">static</span> <span class="k">of</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">IO</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
            <span class="k">return</span> <span class="nx">value</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kd">constructor</span><span class="p">(</span><span class="nx">fn</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_value</span> <span class="o">=</span> <span class="nx">fn</span>
    <span class="p">}</span>

    <span class="nx">map</span><span class="p">(</span><span class="nx">fn</span><span class="p">){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">IO</span><span class="p">(</span><span class="nx">fp</span><span class="p">.</span><span class="nx">flowRight</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_value</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// è°ƒç”¨</span>
<span class="kd">let</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">IO</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="nx">process</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="nx">p</span> <span class="o">=&gt;</span> <span class="nx">p</span><span class="p">.</span><span class="nx">execPath</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">_value</span><span class="p">())</span>
</code></pre></div></div>
:ET