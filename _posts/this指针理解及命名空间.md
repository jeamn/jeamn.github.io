---
title: this指针理解及命名空间
tags:
  - JavaScript
date: 2017-05-17
---

在JS中，一个对象就是由一个或多个属性和方法组成的集合。每个集合元素不是仅能属于一个集合，而是可以动态地属于多个集合。这样，一个方法（集合元素）由谁调用，this指针就指向谁。

之前理解的apply方法和call方法实际上都是通过强制改变this指针的值来实现的，使this指针指向参数所指定的对象，从而达到将一个对象的方法作为另一个对象的方法运行。
<!--more-->

每个对象集合的元素（即属性或方法）也是一个独立的部分，全局函数和作为一个对象的方法定义的函数之间没有任何区别，因为可以把全局函数和变量看作为window对象的方法和属性，也可以使用new操作符来操作一个对象的方法来返回一个对象，这样一个对象的方法也可以定义为类的形式，其中的this指针则会指向新创建的对象。这时对象名可以起到一个命名空间的作用。

命名空间可以解决全局函数命名冲突的问题，可以将相同命名的函数隔离开来。

例如，引入不同的JS文件中都有Person（）这个函数，那么在同时调用这两个函数的时候就会出现问题，后调用的函数会覆盖先调用的函数，这显然不是我们希望得到的。

所以，在写函数的时候可以添加一个命名空间来限制它只能在命名空间内：

```js
var namespace1 = new Object();
namespace1.Person = function(){
this.name = "zhang";
this.age = 12;
this.showInfo = function(){
        alert(this.name + "," + this.age);
    }
}
```
然后，在创建函数实例的时候，就可以带上命名空间了。

```js
var p1 = new namespace1.Person();
p1.showIofo();

```

this很灵活，指向的是当前命名空间中的函数。所以，只要命名空间不一样，同名函数就不会冲突。


